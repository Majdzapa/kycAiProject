"use strict";(self.webpackChunkkyc_frontend=self.webpackChunkkyc_frontend||[]).push([[979],{4979:(H,_,s)=>{s.r(_),s.d(_,{KycStatusComponent:()=>L});var t=s(4438),r=s(177),m=s(8498),c=s(5596),o=s(9159),d=s(6471),l=s(9213),u=s(7575),f=s(8834),p=s(2612),C=s(6175),E=s(9475);function h(n,a){if(1&n&&(t.j41(0,"li")(1,"mat-icon"),t.EFF(2,"info"),t.k0s(),t.j41(3,"span"),t.EFF(4),t.k0s()()),2&n){const e=a.$implicit;t.R7$(4),t.JRh(e)}}function k(n,a){if(1&n&&(t.j41(0,"div",12)(1,"h3"),t.EFF(2,"Analysis Findings"),t.k0s(),t.j41(3,"ul",13),t.DNE(4,h,5,1,"li",14),t.k0s()()),2&n){const e=t.XpG().ngIf;t.R7$(4),t.Y8G("ngForOf",e.findings)}}function S(n,a){if(1&n&&(t.j41(0,"div",4)(1,"mat-card",5)(2,"mat-card-header")(3,"mat-card-title"),t.EFF(4,"Current Results"),t.k0s(),t.j41(5,"mat-card-subtitle"),t.EFF(6,"Latest analysis from AI verification agent"),t.k0s()(),t.j41(7,"mat-card-content")(8,"div",6)(9,"div",7)(10,"span",8),t.EFF(11,"Document Status"),t.k0s(),t.j41(12,"mat-chip"),t.EFF(13),t.k0s()(),t.j41(14,"div",7)(15,"span",8),t.EFF(16,"Risk Level"),t.k0s(),t.j41(17,"span",9),t.EFF(18),t.k0s()(),t.j41(19,"div",7)(20,"span",8),t.EFF(21,"Confidence"),t.k0s(),t.j41(22,"span",9),t.EFF(23),t.nI1(24,"percent"),t.k0s()(),t.j41(25,"div",7)(26,"span",8),t.EFF(27,"Overall Status"),t.k0s(),t.j41(28,"mat-chip",10),t.EFF(29),t.k0s()()(),t.DNE(30,k,5,1,"div",11),t.k0s()()()),2&n){const e=a.ngIf,i=t.XpG();t.R7$(12),t.HbH("status-"+e.documentStatus.toLowerCase()),t.R7$(),t.SpI(" ",e.documentStatus," "),t.R7$(4),t.HbH(i.getRiskClass(e.riskLevel)),t.R7$(),t.SpI(" ",e.riskLevel," "),t.R7$(4),t.HbH(i.getConfidenceClass(e.confidenceScore)),t.R7$(),t.SpI(" ",t.i5U(24,11,e.confidenceScore,"1.0-2")," "),t.R7$(6),t.SpI(" ",e.overallStatus," "),t.R7$(),t.Y8G("ngIf",e.findings&&e.findings.length>0)}}function F(n,a){1&n&&(t.j41(0,"mat-card",5)(1,"mat-card-content")(2,"p"),t.EFF(3,"No KYC submissions found. Please submit your documents to get started."),t.k0s(),t.j41(4,"button",15)(5,"mat-icon"),t.EFF(6,"upload_file"),t.k0s(),t.EFF(7," Submit Documents "),t.k0s()()())}function M(n,a){1&n&&t.nrm(0,"mat-progress-bar",28)}function O(n,a){1&n&&(t.j41(0,"th",29),t.EFF(1,"ID"),t.k0s())}function P(n,a){if(1&n&&(t.j41(0,"td",30),t.EFF(1),t.k0s()),2&n){const e=a.$implicit;t.R7$(),t.SpI(" #",null==e.id?null:e.id.substring(0,8)," ")}}function v(n,a){1&n&&(t.j41(0,"th",29),t.EFF(1,"Status"),t.k0s())}function y(n,a){if(1&n&&(t.j41(0,"td",30)(1,"mat-chip"),t.EFF(2),t.k0s()()),2&n){const e=a.$implicit;t.R7$(),t.HbH("status-"+(e.verificationStatus||"pending").toLowerCase()),t.R7$(),t.SpI(" ",e.verificationStatus," ")}}function D(n,a){1&n&&(t.j41(0,"th",29),t.EFF(1,"Risk"),t.k0s())}function R(n,a){if(1&n&&(t.j41(0,"td",30)(1,"span"),t.EFF(2),t.k0s()()),2&n){const e=a.$implicit,i=t.XpG(2);t.R7$(),t.HbH(i.getRiskClass(e.riskLevel)),t.R7$(),t.SpI(" ",e.riskLevel||"PENDING"," ")}}function I(n,a){1&n&&(t.j41(0,"th",29),t.EFF(1,"Confidence"),t.k0s())}function b(n,a){if(1&n&&(t.j41(0,"td",30)(1,"span"),t.EFF(2),t.nI1(3,"percent"),t.k0s()()),2&n){const e=a.$implicit,i=t.XpG(2);t.R7$(),t.HbH(i.getConfidenceClass(e.confidenceScore)),t.R7$(),t.SpI(" ",t.i5U(3,3,e.confidenceScore||0,"1.0-1")," ")}}function x(n,a){1&n&&(t.j41(0,"th",29),t.EFF(1,"Submitted"),t.k0s())}function K(n,a){if(1&n&&(t.j41(0,"td",30),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&n){const e=a.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,e.createdAt,"short")," ")}}function T(n,a){1&n&&t.nrm(0,"tr",31)}function j(n,a){1&n&&t.nrm(0,"tr",32)}function $(n,a){if(1&n&&(t.j41(0,"mat-card",16)(1,"mat-card-header")(2,"mat-card-title"),t.EFF(3,"Submission History"),t.k0s()(),t.j41(4,"mat-card-content"),t.DNE(5,M,1,0,"mat-progress-bar",17),t.j41(6,"table",18),t.qex(7,19),t.DNE(8,O,2,0,"th",20)(9,P,2,1,"td",21),t.bVm(),t.qex(10,22),t.DNE(11,v,2,0,"th",20)(12,y,3,3,"td",21),t.bVm(),t.qex(13,23),t.DNE(14,D,2,0,"th",20)(15,R,3,3,"td",21),t.bVm(),t.qex(16,24),t.DNE(17,I,2,0,"th",20)(18,b,4,6,"td",21),t.bVm(),t.qex(19,25),t.DNE(20,x,2,0,"th",20)(21,K,3,4,"td",21),t.bVm(),t.DNE(22,T,1,0,"tr",26)(23,j,1,0,"tr",27),t.k0s()()()),2&n){const e=t.XpG();t.R7$(5),t.Y8G("ngIf",e.kycState.loading()),t.R7$(),t.Y8G("dataSource",e.kycState.submissions()),t.R7$(16),t.Y8G("matHeaderRowDef",e.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",e.displayedColumns)}}let L=(()=>{class n{constructor(){this.authState=(0,t.WQX)(p.T),this.kycState=(0,t.WQX)(C.y),this.kycService=(0,t.WQX)(E.l),this.displayedColumns=["id","status","risk","confidence","date"]}ngOnInit(){const e=this.authState.currentUser();e?.customerId&&this.kycService.getKycStatus(e.customerId).subscribe()}getRiskClass(e){if(!e)return"risk-low";switch(e.toUpperCase()){case"LOW":default:return"risk-low";case"MEDIUM":return"risk-medium";case"HIGH":return"risk-high";case"CRITICAL":return"risk-critical"}}getConfidenceClass(e){return e?e>.9?"conf-high":e>.7?"conf-medium":"conf-low":"conf-low"}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-kyc-status"]],standalone:!0,features:[t.aNF],decls:7,vars:3,consts:[["noStatus",""],[1,"status-container"],["class","overview-section",4,"ngIf","ngIfElse"],["class","documents-card",4,"ngIf"],[1,"overview-section"],[1,"status-overview"],[1,"status-grid"],[1,"status-item"],[1,"label"],[1,"value"],["color","primary","selected",""],["class","findings-container",4,"ngIf"],[1,"findings-container"],[1,"findings-list"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary","routerLink","/kyc-submit"],[1,"documents-card"],["mode","indeterminate",4,"ngIf"],["mat-table","",1,"documents-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","risk"],["matColumnDef","confidence"],["matColumnDef","date"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mode","indeterminate"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(i,g){if(1&i&&(t.j41(0,"div",1)(1,"h1"),t.EFF(2,"KYC Verification Status"),t.k0s(),t.DNE(3,S,31,14,"div",2)(4,F,8,0,"ng-template",null,0,t.C5r)(6,$,24,4,"mat-card",3),t.k0s()),2&i){const w=t.sdS(5);t.R7$(3),t.Y8G("ngIf",g.kycState.currentKycStatus())("ngIfElse",w),t.R7$(3),t.Y8G("ngIf",g.kycState.submissions().length>0)}},dependencies:[r.MD,r.Sq,r.bT,r.m1,r.vh,m.iI,m.Wk,c.Hu,c.RN,c.m2,c.MM,c.Lc,c.dh,o.tP,o.Zl,o.tL,o.ji,o.cC,o.YV,o.iL,o.KS,o.$R,o.YZ,o.NB,d.YN,d.Jl,l.m_,l.An,u.PO,u.HM,f.Hl,f.$z],styles:[".status-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto}h1[_ngcontent-%COMP%], .status-overview[_ngcontent-%COMP%]{margin-bottom:24px}.status-grid[_ngcontent-%COMP%]{display:flex;gap:40px;flex-wrap:wrap}.status-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.status-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;color:#666;text-transform:uppercase}.documents-table[_ngcontent-%COMP%]{width:100%}.documents-table[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:8px;color:#666}.status-approved[_ngcontent-%COMP%]{background:#e8f5e9;color:#2e7d32}.status-pending[_ngcontent-%COMP%]{background:#fff3e0;color:#ef6c00}.status-rejected[_ngcontent-%COMP%]{background:#ffebee;color:#c62828}.status-in_progress[_ngcontent-%COMP%]{background:#e3f2fd;color:#1565c0}.status-additional_info_required[_ngcontent-%COMP%]{background:#f3e5f5;color:#6a1b9a}.risk-low[_ngcontent-%COMP%]{color:#4caf50;font-weight:700}.risk-medium[_ngcontent-%COMP%]{color:#ff9800;font-weight:700}.risk-high[_ngcontent-%COMP%]{color:#f44336;font-weight:700}.risk-critical[_ngcontent-%COMP%]{color:#9c27b0;font-weight:700}.conf-high[_ngcontent-%COMP%]{color:#4caf50}.conf-medium[_ngcontent-%COMP%]{color:#ff9800}.conf-low[_ngcontent-%COMP%]{color:#f44336}.findings-container[_ngcontent-%COMP%]{margin-top:24px;padding:16px;background:#f8f9fa;border-radius:8px;border-left:4px solid #3f51b5}.findings-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 12px;font-size:16px;color:#3f51b5}.findings-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.findings-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px;font-size:14px}.findings-list[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#666}.status-verified[_ngcontent-%COMP%]{background:#e8f5e9;color:#2e7d32}.status-needs_review[_ngcontent-%COMP%]{background:#fff3e0;color:#ef6c00}"]})}}return n})()}}]);