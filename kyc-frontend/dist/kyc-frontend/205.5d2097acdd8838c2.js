"use strict";(self.webpackChunkkyc_frontend=self.webpackChunkkyc_frontend||[]).push([[205],{205:(D,p,o)=>{o.r(p),o.d(p,{LoginComponent:()=>I});var t=o(4438),_=o(177),r=o(9417),m=o(8498),u=o(1413),l=o(5596),c=o(882),f=o(9631),d=o(8834),h=o(9213),P=o(9183),C=o(5416),E=o(4796),x=o(2612);function b(e,g){1&e&&(t.j41(0,"mat-error"),t.EFF(1," Username is required "),t.k0s())}function F(e,g){1&e&&(t.j41(0,"mat-error"),t.EFF(1," Password is required "),t.k0s())}function v(e,g){1&e&&(t.j41(0,"mat-error"),t.EFF(1," Password must be at least 6 characters "),t.k0s())}function k(e,g){if(1&e&&(t.j41(0,"div",18)(1,"mat-icon"),t.EFF(2,"error"),t.k0s(),t.j41(3,"span"),t.EFF(4),t.k0s()()),2&e){const a=g.ngIf;t.R7$(4),t.JRh(a)}}function y(e,g){1&e&&t.nrm(0,"mat-spinner",19)}function w(e,g){1&e&&(t.j41(0,"span"),t.EFF(1,"Login"),t.k0s())}let I=(()=>{class e{constructor(){this.fb=(0,t.WQX)(r.ok),this.authService=(0,t.WQX)(E.u),this.authState=(0,t.WQX)(x.T),this.router=(0,t.WQX)(m.Ix),this.snackBar=(0,t.WQX)(C.UG),this.destroy$=new u.B,this.hidePassword=!0,this.loginForm=this.fb.group({username:["",[r.k0.required]],password:["",[r.k0.required,r.k0.minLength(6)]]}),this.authState.authState(),this.watchForErrors(),this.watchForAuthentication()}watchForErrors(){setTimeout(()=>{new u.B;let i=this.authState.error();const n=setInterval(()=>{const s=this.authState.error();s!==i&&s&&(this.snackBar.open(s,"Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["error-snackbar"]}),i=s)},100);this.destroy$.subscribe(()=>clearInterval(n))})}watchForAuthentication(){setTimeout(()=>{let a=this.authState.isAuthenticated();const i=setInterval(()=>{const n=this.authState.isAuthenticated();!a&&n&&this.router.navigate(["/dashboard"]),a=n},100);this.destroy$.subscribe(()=>clearInterval(i))})}onSubmit(){this.loginForm.valid?this.authService.login(this.loginForm.value).subscribe():Object.keys(this.loginForm.controls).forEach(a=>{this.loginForm.get(a)?.markAsTouched()})}togglePasswordVisibility(){this.hidePassword=!this.hidePassword}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-login"]],standalone:!0,features:[t.aNF],decls:44,vars:11,consts:[[1,"login-container"],[1,"login-card"],[1,"header-content"],[1,"title-icon"],[1,"login-form",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","username","placeholder","Enter your username","autocomplete","username","required",""],["matPrefix",""],[4,"ngIf"],["matInput","","formControlName","password","placeholder","Enter your password","autocomplete","current-password","required","",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["class","error-message",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",1,"full-width","login-button",3,"disabled"],["diameter","20","class","button-spinner",4,"ngIf"],[1,"forgot-password"],["routerLink","/forgot-password"],[1,"register-link"],["routerLink","/register"],[1,"error-message"],["diameter","20",1,"button-spinner"]],template:function(i,n){if(1&i&&(t.j41(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"div",2)(4,"mat-card-title")(5,"mat-icon",3),t.EFF(6,"verified_user"),t.k0s(),t.j41(7,"span"),t.EFF(8,"Welcome to KYC AI"),t.k0s()(),t.j41(9,"mat-card-subtitle"),t.EFF(10,"Secure Identity Verification"),t.k0s()()(),t.j41(11,"mat-card-content")(12,"form",4),t.bIt("ngSubmit",function(){return n.onSubmit()}),t.j41(13,"mat-form-field",5)(14,"mat-label"),t.EFF(15,"Username"),t.k0s(),t.nrm(16,"input",6),t.j41(17,"mat-icon",7),t.EFF(18,"person"),t.k0s(),t.DNE(19,b,2,0,"mat-error",8),t.k0s(),t.j41(20,"mat-form-field",5)(21,"mat-label"),t.EFF(22,"Password"),t.k0s(),t.nrm(23,"input",9),t.j41(24,"mat-icon",7),t.EFF(25,"lock"),t.k0s(),t.j41(26,"button",10),t.bIt("click",function(){return n.togglePasswordVisibility()}),t.j41(27,"mat-icon"),t.EFF(28),t.k0s()(),t.DNE(29,F,2,0,"mat-error",8)(30,v,2,0,"mat-error",8),t.k0s(),t.DNE(31,k,5,1,"div",11),t.j41(32,"button",12),t.DNE(33,y,1,0,"mat-spinner",13)(34,w,2,0,"span",8),t.k0s(),t.j41(35,"div",14)(36,"a",15),t.EFF(37,"Forgot password?"),t.k0s()()()(),t.j41(38,"mat-card-actions")(39,"div",16)(40,"p"),t.EFF(41," Don't have an account? "),t.j41(42,"a",17),t.EFF(43,"Register here"),t.k0s()()()()()()),2&i){let s,M,O;t.R7$(12),t.Y8G("formGroup",n.loginForm),t.R7$(7),t.Y8G("ngIf",null==(s=n.loginForm.get("username"))?null:s.hasError("required")),t.R7$(4),t.Y8G("type",n.hidePassword?"password":"text"),t.R7$(3),t.BMQ("aria-label","Toggle password visibility"),t.R7$(2),t.JRh(n.hidePassword?"visibility_off":"visibility"),t.R7$(),t.Y8G("ngIf",null==(M=n.loginForm.get("password"))?null:M.hasError("required")),t.R7$(),t.Y8G("ngIf",null==(O=n.loginForm.get("password"))?null:O.hasError("minlength")),t.R7$(),t.Y8G("ngIf",n.authState.error()),t.R7$(),t.Y8G("disabled",n.loginForm.invalid||n.authState.loading()),t.R7$(),t.Y8G("ngIf",n.authState.loading()),t.R7$(),t.Y8G("ngIf",!n.authState.loading())}},dependencies:[_.MD,_.bT,r.X1,r.qT,r.me,r.BC,r.cb,r.YS,r.j4,r.JD,m.iI,m.Wk,l.Hu,l.RN,l.YY,l.m2,l.MM,l.Lc,l.dh,c.RG,c.rl,c.nJ,c.TL,c.JW,c.yw,f.fS,f.fg,d.Hl,d.$z,d.iY,h.m_,h.An,P.D6,P.LG,C._T],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:20px;background:linear-gradient(135deg,#667eea,#764ba2)}.login-card[_ngcontent-%COMP%]{width:100%;max-width:450px;padding:32px;box-shadow:0 8px 32px #0000001a;border-radius:16px}.header-content[_ngcontent-%COMP%]{width:100%;text-align:center;margin-bottom:24px}mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:0;margin-bottom:0}mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px;font-size:28px;font-weight:600;margin-bottom:8px;color:#333}.title-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;color:#667eea}mat-card-subtitle[_ngcontent-%COMP%]{color:#666;font-size:14px;text-align:center}.login-form[_ngcontent-%COMP%]{margin-top:32px}.full-width[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{margin-bottom:20px}mat-form-field[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{background-color:#fafafa}mat-form-field[_ngcontent-%COMP%]     .mat-mdc-form-field-focus-overlay{background-color:transparent}mat-icon[matPrefix][_ngcontent-%COMP%]{margin-right:8px;color:#666}.login-button[_ngcontent-%COMP%]{height:48px;margin-top:8px;font-size:16px;font-weight:500;position:relative;text-transform:uppercase;letter-spacing:.5px}.button-spinner[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.login-button[_ngcontent-%COMP%]:disabled{opacity:.6}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#d32f2f;background-color:#ffebee;padding:12px 16px;border-radius:8px;margin-bottom:16px;border-left:4px solid #d32f2f}.error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.error-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;flex:1}.forgot-password[_ngcontent-%COMP%]{text-align:right;margin-top:12px}.forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-size:14px;transition:color .3s ease}.forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#764ba2;text-decoration:underline}mat-card-actions[_ngcontent-%COMP%]{padding:0;margin-top:24px}.register-link[_ngcontent-%COMP%]{width:100%;text-align:center;border-top:1px solid #e0e0e0;padding-top:20px}.register-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:14px}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600;transition:color .3s ease}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#764ba2;text-decoration:underline}@media (max-width: 600px){.login-container[_ngcontent-%COMP%]{padding:16px}.login-card[_ngcontent-%COMP%]{padding:24px}mat-card-title[_ngcontent-%COMP%]{font-size:24px}.title-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}}  .mat-mdc-form-field-subscript-wrapper{margin-top:4px}  .mat-mdc-form-field-error{font-size:12px}.login-button[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]     circle{stroke:#fff}.login-button[_ngcontent-%COMP%]:focus{outline:2px solid #667eea;outline-offset:2px}input[_ngcontent-%COMP%]:focus{outline:none}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.login-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease-out}"]})}}return e})()}}]);