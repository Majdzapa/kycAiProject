"use strict";(self.webpackChunkkyc_frontend=self.webpackChunkkyc_frontend||[]).push([[997],{3997:(R,d,r)=>{r.r(d),r.d(d,{RegisterComponent:()=>I});var t=r(4438),_=r(177),a=r(9417),m=r(8498),P=r(1413),s=r(5596),l=r(882),h=r(9631),c=r(8834),p=r(9213),f=r(9183),E=r(5416),C=r(4796),F=r(2612);function v(n,u){if(1&n&&(t.j41(0,"div",17),t.EFF(1),t.k0s()),2&n){const i=u.ngIf;t.R7$(),t.SpI(" ",i," ")}}function M(n,u){1&n&&t.nrm(0,"mat-spinner",18)}function O(n,u){1&n&&(t.j41(0,"span"),t.EFF(1,"Create Account"),t.k0s())}let I=(()=>{class n{constructor(){this.fb=(0,t.WQX)(a.ok),this.authService=(0,t.WQX)(C.u),this.authState=(0,t.WQX)(F.T),this.router=(0,t.WQX)(m.Ix),this.snackBar=(0,t.WQX)(E.UG),this.destroy$=new P.B,this.hidePassword=!0,this.registerForm=this.fb.group({username:["",a.k0.required],email:["",[a.k0.required,a.k0.email]],password:["",[a.k0.required,a.k0.minLength(8)]],firstName:[""],lastName:[""]}),this.watchForErrors(),this.watchForRegistration()}watchForErrors(){setTimeout(()=>{let i=this.authState.error();const o=setInterval(()=>{const e=this.authState.error();e!==i&&e&&(this.snackBar.open(e,"Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["error-snackbar"]}),i=e)},100);this.destroy$.subscribe(()=>clearInterval(o))})}watchForRegistration(){setTimeout(()=>{let i=this.authState.loading();const o=setInterval(()=>{const e=this.authState.loading(),g=this.authState.error();i&&!e&&!g&&(this.snackBar.open("Registration successful! Please login.","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["success-snackbar"]}),setTimeout(()=>this.router.navigate(["/login"]),1500)),i=e},100);this.destroy$.subscribe(()=>clearInterval(o))})}onSubmit(){this.registerForm.valid?this.authService.register(this.registerForm.value).subscribe():Object.keys(this.registerForm.controls).forEach(i=>{this.registerForm.get(i)?.markAsTouched()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-register"]],standalone:!0,features:[t.aNF],decls:49,vars:7,consts:[[1,"register-container"],[1,"register-card"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","username","placeholder","Choose a username"],["matPrefix",""],["matInput","","formControlName","email","placeholder","Enter your email","type","email"],["matInput","","formControlName","password","placeholder","Create a password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["matInput","","formControlName","firstName","placeholder","Your first name"],["matInput","","formControlName","lastName","placeholder","Your last name"],["class","error-message",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",1,"full-width","register-button",3,"disabled"],["diameter","20",4,"ngIf"],[4,"ngIf"],[1,"login-link"],["routerLink","/login"],[1,"error-message"],["diameter","20"]],template:function(o,e){1&o&&(t.j41(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),t.EFF(5,"person_add"),t.k0s(),t.EFF(6," Create Account "),t.k0s(),t.j41(7,"mat-card-subtitle"),t.EFF(8,"Join KYC AI for secure verification"),t.k0s()(),t.j41(9,"mat-card-content")(10,"form",2),t.bIt("ngSubmit",function(){return e.onSubmit()}),t.j41(11,"mat-form-field",3)(12,"mat-label"),t.EFF(13,"Username"),t.k0s(),t.nrm(14,"input",4),t.j41(15,"mat-icon",5),t.EFF(16,"person"),t.k0s()(),t.j41(17,"mat-form-field",3)(18,"mat-label"),t.EFF(19,"Email"),t.k0s(),t.nrm(20,"input",6),t.j41(21,"mat-icon",5),t.EFF(22,"email"),t.k0s()(),t.j41(23,"mat-form-field",3)(24,"mat-label"),t.EFF(25,"Password"),t.k0s(),t.nrm(26,"input",7),t.j41(27,"mat-icon",5),t.EFF(28,"lock"),t.k0s(),t.j41(29,"button",8),t.bIt("click",function(){return e.hidePassword=!e.hidePassword}),t.j41(30,"mat-icon"),t.EFF(31),t.k0s()()(),t.j41(32,"mat-form-field",3)(33,"mat-label"),t.EFF(34,"First Name"),t.k0s(),t.nrm(35,"input",9),t.k0s(),t.j41(36,"mat-form-field",3)(37,"mat-label"),t.EFF(38,"Last Name"),t.k0s(),t.nrm(39,"input",10),t.k0s(),t.DNE(40,v,2,1,"div",11),t.j41(41,"button",12),t.DNE(42,M,1,0,"mat-spinner",13)(43,O,2,0,"span",14),t.k0s()()(),t.j41(44,"mat-card-actions")(45,"p",15),t.EFF(46," Already have an account? "),t.j41(47,"a",16),t.EFF(48,"Login here"),t.k0s()()()()()),2&o&&(t.R7$(10),t.Y8G("formGroup",e.registerForm),t.R7$(16),t.Y8G("type",e.hidePassword?"password":"text"),t.R7$(5),t.JRh(e.hidePassword?"visibility_off":"visibility"),t.R7$(9),t.Y8G("ngIf",e.authState.error()),t.R7$(),t.Y8G("disabled",e.registerForm.invalid||e.authState.loading()),t.R7$(),t.Y8G("ngIf",e.authState.loading()),t.R7$(),t.Y8G("ngIf",!e.authState.loading()))},dependencies:[_.MD,_.bT,a.X1,a.qT,a.me,a.BC,a.cb,a.j4,a.JD,m.iI,m.Wk,s.Hu,s.RN,s.YY,s.m2,s.MM,s.Lc,s.dh,l.RG,l.rl,l.nJ,l.JW,l.yw,h.fS,h.fg,c.Hl,c.$z,c.iY,p.m_,p.An,f.D6,f.LG,E._T],styles:[".register-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:calc(100vh - 64px);padding:20px;background:linear-gradient(135deg,#667eea,#764ba2)}.register-card[_ngcontent-%COMP%]{width:100%;max-width:450px;padding:24px}mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:24px}form[_ngcontent-%COMP%]{margin-top:24px}mat-form-field[_ngcontent-%COMP%]{margin-bottom:16px}.full-width[_ngcontent-%COMP%]{width:100%}.register-button[_ngcontent-%COMP%]{height:48px;margin-top:8px}.error-message[_ngcontent-%COMP%]{color:#f44336;margin-bottom:16px;text-align:center}.login-link[_ngcontent-%COMP%]{text-align:center;margin-top:16px}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1976d2;text-decoration:none}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return n})()}}]);